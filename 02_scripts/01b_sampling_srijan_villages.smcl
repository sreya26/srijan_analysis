{smcl}
{txt}{sf}{ul off}{.-}
      name:  {res}plog_14
       {txt}log:  {res}/Users/sreyamajumder/Dropbox/sreya_majumder/srijan_sreya analysis/02_scripts/01b_sampling_srijan_villages.smcl
  {txt}log type:  {res}smcl
 {txt}opened on:  {res}15 Dec 2021, 13:20:27
{txt}
{com}. *********************************************************************************************************************
. * !version 2.0 dated 18 July 2021, by Hemanshu Kumar 
. *  -- modifications to work with Picard's -project- command
. *  -- deparate the importing of census village amenities data to a different file
. * !version 1.0 dated 6 April 2021, by Hemanshu Kumar
. * This do-file is used for sampling SRIJAN villages 
. * This file is part of the SRIJAN Project (headed by Rohini Somanathan, Priyanka Arora, Hemanshu Kumar, et al)
. * adapted from code written by Priyanka Arora in srs_locationwise_updated.do and srs_locationwise.do
. *********************************************************************************************************************
. 
. project , uses("../03_processed/village_amenities_data.dta")
{txt}project srijan > do-file uses: {res}"03_processed/village_amenities_data.dta" filesig(1801946077:24553246){txt}

{com}. project , original("../01_data/srijan_villages/village_list_anuppur_with_codes.csv")
{txt}project srijan > do-file uses original: {res}"01_data/srijan_villages/village_list_anuppur_with_codes.csv" filesig(713163772:19900){txt}

{com}. project , original("../01_data/srijan_villages/village_list_chhindwara_with_codes.csv")
{txt}project srijan > do-file uses original: {res}"01_data/srijan_villages/village_list_chhindwara_with_codes.csv" filesig(29684407:9549){txt}

{com}. project , original("../01_data/srijan_villages/village_list_duni_with_codes.csv")
{txt}project srijan > do-file uses original: {res}"01_data/srijan_villages/village_list_duni_with_codes.csv" filesig(805366845:7318){txt}

{com}. project , original("../01_data/srijan_villages/village_list_jaisinagar_with_codes.csv")
{txt}project srijan > do-file uses original: {res}"01_data/srijan_villages/village_list_jaisinagar_with_codes.csv" filesig(3751366135:9909){txt}

{com}. project , original("../01_data/srijan_villages/village_list_jashpur_with_codes.csv")
{txt}project srijan > do-file uses original: {res}"01_data/srijan_villages/village_list_jashpur_with_codes.csv" filesig(2800198396:1035){txt}

{com}. project , original("../01_data/srijan_villages/village_list_jatara_with_codes.csv")
{txt}project srijan > do-file uses original: {res}"01_data/srijan_villages/village_list_jatara_with_codes.csv" filesig(2198102743:7928){txt}

{com}. project , original("../01_data/srijan_villages/village_list_karauli_with_codes.csv")
{txt}project srijan > do-file uses original: {res}"01_data/srijan_villages/village_list_karauli_with_codes.csv" filesig(2313237924:5611){txt}

{com}. project , original("../01_data/srijan_villages/village_list_khatkar_with_codes.csv")
{txt}project srijan > do-file uses original: {res}"01_data/srijan_villages/village_list_khatkar_with_codes.csv" filesig(2397766920:2923){txt}

{com}. project , original("../01_data/srijan_villages/village_list_koriya_with_codes.csv")
{txt}project srijan > do-file uses original: {res}"01_data/srijan_villages/village_list_koriya_with_codes.csv" filesig(1318107373:11035){txt}

{com}. project , original("../01_data/srijan_villages/village_list_kotma_with_codes.csv")
{txt}project srijan > do-file uses original: {res}"01_data/srijan_villages/village_list_kotma_with_codes.csv" filesig(138584365:4857){txt}

{com}. project , original("../01_data/srijan_villages/village_list_lakheri_with_codes.csv")
{txt}project srijan > do-file uses original: {res}"01_data/srijan_villages/village_list_lakheri_with_codes.csv" filesig(107712642:4800){txt}

{com}. project , original("../01_data/srijan_villages/village_list_mohkhed_with_codes.csv")
{txt}project srijan > do-file uses original: {res}"01_data/srijan_villages/village_list_mohkhed_with_codes.csv" filesig(1014024248:3528){txt}

{com}. project , original("../01_data/srijan_villages/village_list_nainwa_with_codes.csv")
{txt}project srijan > do-file uses original: {res}"01_data/srijan_villages/village_list_nainwa_with_codes.csv" filesig(1200178431:11704){txt}

{com}. project , original("../01_data/srijan_villages/village_list_newai_with_codes.csv")
{txt}project srijan > do-file uses original: {res}"01_data/srijan_villages/village_list_newai_with_codes.csv" filesig(3410724431:10438){txt}

{com}. project , original("../01_data/srijan_villages/village_list_pali_with_codes.csv")
{txt}project srijan > do-file uses original: {res}"01_data/srijan_villages/village_list_pali_with_codes.csv" filesig(3457285953:4380){txt}

{com}. project , original("../01_data/srijan_villages/village_list_pratapgarh_with_codes.csv")
{txt}project srijan > do-file uses original: {res}"01_data/srijan_villages/village_list_pratapgarh_with_codes.csv" filesig(2518294337:6706){txt}

{com}. project , original("../01_data/srijan_villages/village_list_shivpuri_with_codes.csv")
{txt}project srijan > do-file uses original: {res}"01_data/srijan_villages/village_list_shivpuri_with_codes.csv" filesig(157625903:7004){txt}

{com}. project , original("../01_data/srijan_villages/village_list_uniyara_with_codes.csv")
{txt}project srijan > do-file uses original: {res}"01_data/srijan_villages/village_list_uniyara_with_codes.csv" filesig(454702594:5827){txt}

{com}. 
.         *********************************************************************************************************************
.         * 1. setting up some locals
.         *********************************************************************************************************************
.         
.         * set the sampling methodology: simple random sampling (srs) or probability proportional to size (pps) sampling
. 
.         local sampling srs // can be "srs" or "pps"; we have decided to do srs sampling for this project
{txt}
{com}. 
.         * set the number of villages to be sampled at each location
. 
.         local num_villages 15 // 10 main villages + 5 replacements
{txt}
{com}. 
.         * set the population threshold below which to exclude villages from the sampling frame
.         local min_pop 1
{txt}
{com}.  
.         * list of locations for sampling
.         #delimit ;
{txt}delimiter now ;
{com}.         local locations 
>                         anuppur                 /* MP */
>         /*              baran                   /* RJ */ omitted because SRIJAN started work at this location only post-COVID */ 
>                         chhindwara              /* MP */
>                         duni                    /* RJ */
>                         jaisinagar              /* MP */
>                         jashpur                 /* CG */
>                         jatara                  /* MP */
>                         karauli                 /* RJ */
>                         khatkar                 /* RJ */
>                         koriya                  /* CG */
>                         kotma                   /* MP */
>                         lakheri                 /* RJ */
>                         mohkhed                 /* MP */
>                         nainwa                  /* RJ */
>                         newai                   /* RJ */
>                         pali                    /* RJ */
>                         pratapgarh              /* RJ */
>                         shivpuri                /* MP */
>                         uniyara                 /* RJ */
>                         ;
{txt}
{com}.         #delimit cr
{txt}delimiter now cr
{com}. 
.         use "../03_processed/village_amenities_data", clear
{txt}
{com}.         *********************************************************************************************************************
.         * 2. import the list of all SRIJAN villages, for each location
.         *********************************************************************************************************************   
.         
.         foreach loc of local locations {c -(}
{txt}  2{com}.                         dis as error "Opening SRIJAN village list file for location: `loc'"
{txt}  3{com}.                         import delimited "../01_data/srijan_villages/village_list_`loc'_with_codes.csv", varnames(1) clear
{txt}  4{com}.                         
.                         * check that all the expected variables are present
.                         confirm string variable district block panchayat revenuevillage villagestatusworkingnonworking
{txt}  5{com}.                         confirm numeric variable villagecensuscode
{txt}  6{com}. 
.                         rename villagecensuscode village_code
{txt}  7{com}.                         drop if missing(revenuevillage)
{txt}  8{com}. 
.                         count if missing(village_code)
{txt}  9{com}.                         if r(N) != 0 dis as error "`=proper("`loc'")': There are `=r(N)' villages for which there are no census 2011 codes. Please put in artifical codes for these and re-run."
{txt} 10{com}.                         
.                         * check that the census 2011 codes uniquely identify villages
.                         distinct village_code
{txt} 11{com}.                         assert r(N) == r(ndistinct)
{txt} 12{com}.                                                 
.                         tempfile srijan_`loc'
{txt} 13{com}.                         save `srijan_`loc'', replace
{txt} 14{com}.                 {c )-}
{err}Opening SRIJAN village list file for location: anuppur
{res}{text}(8 vars, 268 obs)
{res}{txt}(0 observations deleted)
  {res}0

{col 1}{text}{hline 14}{c TT}{hline 11}{hline 11}
{col 1}{text}             {col 15}{c |}     total{col 27}  distinct
{res}{col 1}{text}{hline 14}{c +}{hline 11}{hline 11}
{res}{col 1}{text} village_code{col 15}{c |}{result}       268{col 27}       268
{col 1}{text}{hline 14}{c BT}{hline 11}{hline 11}
{res}{txt}{p 0 4 2}
(file {bf}
/var/folders/m0/4lyk4gcd0rs88ghc7sdnwc600000gn/T//S_00335.000008{rm}
not found)
{p_end}
{p 0 4 2}
file {bf}
/var/folders/m0/4lyk4gcd0rs88ghc7sdnwc600000gn/T//S_00335.000008{rm}
saved
as .dta format
{p_end}
{err}Opening SRIJAN village list file for location: chhindwara
{res}{text}(7 vars, 134 obs)
{res}{txt}(0 observations deleted)
  {res}0

{col 1}{text}{hline 14}{c TT}{hline 11}{hline 11}
{col 1}{text}             {col 15}{c |}     total{col 27}  distinct
{res}{col 1}{text}{hline 14}{c +}{hline 11}{hline 11}
{res}{col 1}{text} village_code{col 15}{c |}{result}       134{col 27}       134
{col 1}{text}{hline 14}{c BT}{hline 11}{hline 11}
{res}{txt}{p 0 4 2}
(file {bf}
/var/folders/m0/4lyk4gcd0rs88ghc7sdnwc600000gn/T//S_00335.000009{rm}
not found)
{p_end}
{p 0 4 2}
file {bf}
/var/folders/m0/4lyk4gcd0rs88ghc7sdnwc600000gn/T//S_00335.000009{rm}
saved
as .dta format
{p_end}
{err}Opening SRIJAN village list file for location: duni
{res}{text}(8 vars, 100 obs)
{res}{txt}(0 observations deleted)
  {res}0

{col 1}{text}{hline 14}{c TT}{hline 11}{hline 11}
{col 1}{text}             {col 15}{c |}     total{col 27}  distinct
{res}{col 1}{text}{hline 14}{c +}{hline 11}{hline 11}
{res}{col 1}{text} village_code{col 15}{c |}{result}       100{col 27}       100
{col 1}{text}{hline 14}{c BT}{hline 11}{hline 11}
{res}{txt}{p 0 4 2}
(file {bf}
/var/folders/m0/4lyk4gcd0rs88ghc7sdnwc600000gn/T//S_00335.00000a{rm}
not found)
{p_end}
{p 0 4 2}
file {bf}
/var/folders/m0/4lyk4gcd0rs88ghc7sdnwc600000gn/T//S_00335.00000a{rm}
saved
as .dta format
{p_end}
{err}Opening SRIJAN village list file for location: jaisinagar
{res}{text}(7 vars, 143 obs)
{res}{txt}(0 observations deleted)
  {res}0

{col 1}{text}{hline 14}{c TT}{hline 11}{hline 11}
{col 1}{text}             {col 15}{c |}     total{col 27}  distinct
{res}{col 1}{text}{hline 14}{c +}{hline 11}{hline 11}
{res}{col 1}{text} village_code{col 15}{c |}{result}       143{col 27}       143
{col 1}{text}{hline 14}{c BT}{hline 11}{hline 11}
{res}{txt}{p 0 4 2}
(file {bf}
/var/folders/m0/4lyk4gcd0rs88ghc7sdnwc600000gn/T//S_00335.00000b{rm}
not found)
{p_end}
{p 0 4 2}
file {bf}
/var/folders/m0/4lyk4gcd0rs88ghc7sdnwc600000gn/T//S_00335.00000b{rm}
saved
as .dta format
{p_end}
{err}Opening SRIJAN village list file for location: jashpur
{res}{text}(7 vars, 15 obs)
{res}{txt}(0 observations deleted)
  {res}0

{col 1}{text}{hline 14}{c TT}{hline 11}{hline 11}
{col 1}{text}             {col 15}{c |}     total{col 27}  distinct
{res}{col 1}{text}{hline 14}{c +}{hline 11}{hline 11}
{res}{col 1}{text} village_code{col 15}{c |}{result}        15{col 27}        15
{col 1}{text}{hline 14}{c BT}{hline 11}{hline 11}
{res}{txt}{p 0 4 2}
(file {bf}
/var/folders/m0/4lyk4gcd0rs88ghc7sdnwc600000gn/T//S_00335.00000c{rm}
not found)
{p_end}
{p 0 4 2}
file {bf}
/var/folders/m0/4lyk4gcd0rs88ghc7sdnwc600000gn/T//S_00335.00000c{rm}
saved
as .dta format
{p_end}
{err}Opening SRIJAN village list file for location: jatara
{res}{text}(7 vars, 117 obs)
{res}{txt}(0 observations deleted)
  {res}0

{col 1}{text}{hline 14}{c TT}{hline 11}{hline 11}
{col 1}{text}             {col 15}{c |}     total{col 27}  distinct
{res}{col 1}{text}{hline 14}{c +}{hline 11}{hline 11}
{res}{col 1}{text} village_code{col 15}{c |}{result}       117{col 27}       117
{col 1}{text}{hline 14}{c BT}{hline 11}{hline 11}
{res}{txt}{p 0 4 2}
(file {bf}
/var/folders/m0/4lyk4gcd0rs88ghc7sdnwc600000gn/T//S_00335.00000d{rm}
not found)
{p_end}
{p 0 4 2}
file {bf}
/var/folders/m0/4lyk4gcd0rs88ghc7sdnwc600000gn/T//S_00335.00000d{rm}
saved
as .dta format
{p_end}
{err}Opening SRIJAN village list file for location: karauli
{res}{text}(7 vars, 88 obs)
{res}{txt}(0 observations deleted)
  {res}0

{col 1}{text}{hline 14}{c TT}{hline 11}{hline 11}
{col 1}{text}             {col 15}{c |}     total{col 27}  distinct
{res}{col 1}{text}{hline 14}{c +}{hline 11}{hline 11}
{res}{col 1}{text} village_code{col 15}{c |}{result}        88{col 27}        88
{col 1}{text}{hline 14}{c BT}{hline 11}{hline 11}
{res}{txt}{p 0 4 2}
(file {bf}
/var/folders/m0/4lyk4gcd0rs88ghc7sdnwc600000gn/T//S_00335.00000e{rm}
not found)
{p_end}
{p 0 4 2}
file {bf}
/var/folders/m0/4lyk4gcd0rs88ghc7sdnwc600000gn/T//S_00335.00000e{rm}
saved
as .dta format
{p_end}
{err}Opening SRIJAN village list file for location: khatkar
{res}{text}(8 vars, 39 obs)
{res}{txt}(0 observations deleted)
  {res}0

{col 1}{text}{hline 14}{c TT}{hline 11}{hline 11}
{col 1}{text}             {col 15}{c |}     total{col 27}  distinct
{res}{col 1}{text}{hline 14}{c +}{hline 11}{hline 11}
{res}{col 1}{text} village_code{col 15}{c |}{result}        39{col 27}        39
{col 1}{text}{hline 14}{c BT}{hline 11}{hline 11}
{res}{txt}{p 0 4 2}
(file {bf}
/var/folders/m0/4lyk4gcd0rs88ghc7sdnwc600000gn/T//S_00335.00000f{rm}
not found)
{p_end}
{p 0 4 2}
file {bf}
/var/folders/m0/4lyk4gcd0rs88ghc7sdnwc600000gn/T//S_00335.00000f{rm}
saved
as .dta format
{p_end}
{err}Opening SRIJAN village list file for location: koriya
{res}{text}(7 vars, 164 obs)
{res}{txt}(0 observations deleted)
  {res}0

{col 1}{text}{hline 14}{c TT}{hline 11}{hline 11}
{col 1}{text}             {col 15}{c |}     total{col 27}  distinct
{res}{col 1}{text}{hline 14}{c +}{hline 11}{hline 11}
{res}{col 1}{text} village_code{col 15}{c |}{result}       164{col 27}       164
{col 1}{text}{hline 14}{c BT}{hline 11}{hline 11}
{res}{txt}{p 0 4 2}
(file {bf}
/var/folders/m0/4lyk4gcd0rs88ghc7sdnwc600000gn/T//S_00335.00000g{rm}
not found)
{p_end}
{p 0 4 2}
file {bf}
/var/folders/m0/4lyk4gcd0rs88ghc7sdnwc600000gn/T//S_00335.00000g{rm}
saved
as .dta format
{p_end}
{err}Opening SRIJAN village list file for location: kotma
{res}{text}(8 vars, 58 obs)
{res}{txt}(0 observations deleted)
  {res}0

{col 1}{text}{hline 14}{c TT}{hline 11}{hline 11}
{col 1}{text}             {col 15}{c |}     total{col 27}  distinct
{res}{col 1}{text}{hline 14}{c +}{hline 11}{hline 11}
{res}{col 1}{text} village_code{col 15}{c |}{result}        58{col 27}        58
{col 1}{text}{hline 14}{c BT}{hline 11}{hline 11}
{res}{txt}{p 0 4 2}
(file {bf}
/var/folders/m0/4lyk4gcd0rs88ghc7sdnwc600000gn/T//S_00335.00000h{rm}
not found)
{p_end}
{p 0 4 2}
file {bf}
/var/folders/m0/4lyk4gcd0rs88ghc7sdnwc600000gn/T//S_00335.00000h{rm}
saved
as .dta format
{p_end}
{err}Opening SRIJAN village list file for location: lakheri
{res}{text}(8 vars, 62 obs)
{res}{txt}(0 observations deleted)
  {res}0

{col 1}{text}{hline 14}{c TT}{hline 11}{hline 11}
{col 1}{text}             {col 15}{c |}     total{col 27}  distinct
{res}{col 1}{text}{hline 14}{c +}{hline 11}{hline 11}
{res}{col 1}{text} village_code{col 15}{c |}{result}        62{col 27}        62
{col 1}{text}{hline 14}{c BT}{hline 11}{hline 11}
{res}{txt}{p 0 4 2}
(file {bf}
/var/folders/m0/4lyk4gcd0rs88ghc7sdnwc600000gn/T//S_00335.00000i{rm}
not found)
{p_end}
{p 0 4 2}
file {bf}
/var/folders/m0/4lyk4gcd0rs88ghc7sdnwc600000gn/T//S_00335.00000i{rm}
saved
as .dta format
{p_end}
{err}Opening SRIJAN village list file for location: mohkhed
{res}{text}(7 vars, 49 obs)
{res}{txt}(0 observations deleted)
  {res}0

{col 1}{text}{hline 14}{c TT}{hline 11}{hline 11}
{col 1}{text}             {col 15}{c |}     total{col 27}  distinct
{res}{col 1}{text}{hline 14}{c +}{hline 11}{hline 11}
{res}{col 1}{text} village_code{col 15}{c |}{result}        49{col 27}        49
{col 1}{text}{hline 14}{c BT}{hline 11}{hline 11}
{res}{txt}{p 0 4 2}
(file {bf}
/var/folders/m0/4lyk4gcd0rs88ghc7sdnwc600000gn/T//S_00335.00000j{rm}
not found)
{p_end}
{p 0 4 2}
file {bf}
/var/folders/m0/4lyk4gcd0rs88ghc7sdnwc600000gn/T//S_00335.00000j{rm}
saved
as .dta format
{p_end}
{err}Opening SRIJAN village list file for location: nainwa
{res}{text}(8 vars, 160 obs)
{res}{txt}(0 observations deleted)
  {res}0

{col 1}{text}{hline 14}{c TT}{hline 11}{hline 11}
{col 1}{text}             {col 15}{c |}     total{col 27}  distinct
{res}{col 1}{text}{hline 14}{c +}{hline 11}{hline 11}
{res}{col 1}{text} village_code{col 15}{c |}{result}       160{col 27}       160
{col 1}{text}{hline 14}{c BT}{hline 11}{hline 11}
{res}{txt}{p 0 4 2}
(file {bf}
/var/folders/m0/4lyk4gcd0rs88ghc7sdnwc600000gn/T//S_00335.00000k{rm}
not found)
{p_end}
{p 0 4 2}
file {bf}
/var/folders/m0/4lyk4gcd0rs88ghc7sdnwc600000gn/T//S_00335.00000k{rm}
saved
as .dta format
{p_end}
{err}Opening SRIJAN village list file for location: newai
{res}{text}(8 vars, 141 obs)
{res}{txt}(0 observations deleted)
  {res}0

{col 1}{text}{hline 14}{c TT}{hline 11}{hline 11}
{col 1}{text}             {col 15}{c |}     total{col 27}  distinct
{res}{col 1}{text}{hline 14}{c +}{hline 11}{hline 11}
{res}{col 1}{text} village_code{col 15}{c |}{result}       141{col 27}       141
{col 1}{text}{hline 14}{c BT}{hline 11}{hline 11}
{res}{txt}{p 0 4 2}
(file {bf}
/var/folders/m0/4lyk4gcd0rs88ghc7sdnwc600000gn/T//S_00335.00000l{rm}
not found)
{p_end}
{p 0 4 2}
file {bf}
/var/folders/m0/4lyk4gcd0rs88ghc7sdnwc600000gn/T//S_00335.00000l{rm}
saved
as .dta format
{p_end}
{err}Opening SRIJAN village list file for location: pali
{res}{text}(7 vars, 69 obs)
{res}{txt}(0 observations deleted)
  {res}0

{col 1}{text}{hline 14}{c TT}{hline 11}{hline 11}
{col 1}{text}             {col 15}{c |}     total{col 27}  distinct
{res}{col 1}{text}{hline 14}{c +}{hline 11}{hline 11}
{res}{col 1}{text} village_code{col 15}{c |}{result}        69{col 27}        69
{col 1}{text}{hline 14}{c BT}{hline 11}{hline 11}
{res}{txt}{p 0 4 2}
(file {bf}
/var/folders/m0/4lyk4gcd0rs88ghc7sdnwc600000gn/T//S_00335.00000m{rm}
not found)
{p_end}
{p 0 4 2}
file {bf}
/var/folders/m0/4lyk4gcd0rs88ghc7sdnwc600000gn/T//S_00335.00000m{rm}
saved
as .dta format
{p_end}
{err}Opening SRIJAN village list file for location: pratapgarh
{res}{text}(7 vars, 90 obs)
{res}{txt}(0 observations deleted)
  {res}0

{col 1}{text}{hline 14}{c TT}{hline 11}{hline 11}
{col 1}{text}             {col 15}{c |}     total{col 27}  distinct
{res}{col 1}{text}{hline 14}{c +}{hline 11}{hline 11}
{res}{col 1}{text} village_code{col 15}{c |}{result}        90{col 27}        90
{col 1}{text}{hline 14}{c BT}{hline 11}{hline 11}
{res}{txt}{p 0 4 2}
(file {bf}
/var/folders/m0/4lyk4gcd0rs88ghc7sdnwc600000gn/T//S_00335.00000n{rm}
not found)
{p_end}
{p 0 4 2}
file {bf}
/var/folders/m0/4lyk4gcd0rs88ghc7sdnwc600000gn/T//S_00335.00000n{rm}
saved
as .dta format
{p_end}
{err}Opening SRIJAN village list file for location: shivpuri
{res}{text}(7 vars, 103 obs)
{res}{txt}(0 observations deleted)
  {res}0

{col 1}{text}{hline 14}{c TT}{hline 11}{hline 11}
{col 1}{text}             {col 15}{c |}     total{col 27}  distinct
{res}{col 1}{text}{hline 14}{c +}{hline 11}{hline 11}
{res}{col 1}{text} village_code{col 15}{c |}{result}       103{col 27}       103
{col 1}{text}{hline 14}{c BT}{hline 11}{hline 11}
{res}{txt}{p 0 4 2}
(file {bf}
/var/folders/m0/4lyk4gcd0rs88ghc7sdnwc600000gn/T//S_00335.00000o{rm}
not found)
{p_end}
{p 0 4 2}
file {bf}
/var/folders/m0/4lyk4gcd0rs88ghc7sdnwc600000gn/T//S_00335.00000o{rm}
saved
as .dta format
{p_end}
{err}Opening SRIJAN village list file for location: uniyara
{res}{text}(8 vars, 78 obs)
{res}{txt}(0 observations deleted)
  {res}0

{col 1}{text}{hline 14}{c TT}{hline 11}{hline 11}
{col 1}{text}             {col 15}{c |}     total{col 27}  distinct
{res}{col 1}{text}{hline 14}{c +}{hline 11}{hline 11}
{res}{col 1}{text} village_code{col 15}{c |}{result}        78{col 27}        78
{col 1}{text}{hline 14}{c BT}{hline 11}{hline 11}
{res}{txt}{p 0 4 2}
(file {bf}
/var/folders/m0/4lyk4gcd0rs88ghc7sdnwc600000gn/T//S_00335.00000p{rm}
not found)
{p_end}
{p 0 4 2}
file {bf}
/var/folders/m0/4lyk4gcd0rs88ghc7sdnwc600000gn/T//S_00335.00000p{rm}
saved
as .dta format
{p_end}

{com}. 
. 
.         *********************************************************************************************************************
.         * 3. denote srijan villages in the census 2011 village amenities data
.         *    also mark blocks and districts in which SRIJAN has operated
.         *********************************************************************************************************************   
. 
.         use "../03_processed/village_amenities_data", clear
{txt}
{com}.         gen byte is_srijan_village = 0
{txt}
{com}.         gen srijan_location = ""
{txt}(119,701 missing values generated)

{com}.         
.         foreach loc of local locations {c -(}
{txt}  2{com}.                 merge 1:1 village_code using `srijan_`loc'', keepusing(district block panchayat revenuevillage) update
{txt}  3{com}.                 replace is_srijan_village = 1 if inlist(_merge,2,3,4)
{txt}  4{com}.                 replace srijan_location = "`loc'" if inlist(_merge,2,3,4)
{txt}  5{com}.                 drop _merge
{txt}  6{com}.         {c )-}
{res}
{txt}{col 5}Result{col 33}Number of obs
{col 5}{hline 41}
{col 5}Not matched{col 30}{res}         119,437
{txt}{col 9}from master{col 30}{res}         119,435{txt}  (_merge==1)
{col 9}from using{col 30}{res}               2{txt}  (_merge==2)

{col 5}Matched{col 30}{res}             266
{txt}{col 9}not updated{col 30}{res}             266{txt}  (_merge==3)
{col 9}missing updated{col 30}{res}               0{txt}  (_merge==4)
{col 9}nonmissing conflict{col 30}{res}               0{txt}  (_merge==5)
{col 5}{hline 41}
(268 real changes made)
variable {bf}{res}srijan_location{sf}{txt} was {bf}{res}str1{sf}{txt} now {bf}{res}str7{sf}
{txt}(268 real changes made)
{res}{txt}{p 0 7 2}
(variable
{bf:district} was {bf:str7}, now {bf:str10} to accommodate using data's values)
{p_end}
{p 0 7 2}
(variable
{bf:panchayat} was {bf:str15}, now {bf:str16} to accommodate using data's values)
{p_end}
{p 0 7 2}
(variable
{bf:revenuevillage} was {bf:str20}, now {bf:str22} to accommodate using data's values)
{p_end}

{col 5}Result{col 33}Number of obs
{col 5}{hline 41}
{col 5}Not matched{col 30}{res}         119,569
{txt}{col 9}from master{col 30}{res}         119,569{txt}  (_merge==1)
{col 9}from using{col 30}{res}               0{txt}  (_merge==2)

{col 5}Matched{col 30}{res}             134
{txt}{col 9}not updated{col 30}{res}               0{txt}  (_merge==3)
{col 9}missing updated{col 30}{res}             134{txt}  (_merge==4)
{col 9}nonmissing conflict{col 30}{res}               0{txt}  (_merge==5)
{col 5}{hline 41}
(134 real changes made)
variable {bf}{res}srijan_location{sf}{txt} was {bf}{res}str7{sf}{txt} now {bf}{res}str10{sf}
{txt}(134 real changes made)
{res}
{txt}{col 5}Result{col 33}Number of obs
{col 5}{hline 41}
{col 5}Not matched{col 30}{res}         119,609
{txt}{col 9}from master{col 30}{res}         119,606{txt}  (_merge==1)
{col 9}from using{col 30}{res}               3{txt}  (_merge==2)

{col 5}Matched{col 30}{res}              97
{txt}{col 9}not updated{col 30}{res}               0{txt}  (_merge==3)
{col 9}missing updated{col 30}{res}              97{txt}  (_merge==4)
{col 9}nonmissing conflict{col 30}{res}               0{txt}  (_merge==5)
{col 5}{hline 41}
(100 real changes made)
(100 real changes made)
{res}{txt}{p 0 7 2}
(variable
{bf:panchayat} was {bf:str16}, now {bf:str22} to accommodate using data's values)
{p_end}
{p 0 7 2}
(variable
{bf:revenuevillage} was {bf:str22}, now {bf:str27} to accommodate using data's values)
{p_end}

{col 5}Result{col 33}Number of obs
{col 5}{hline 41}
{col 5}Not matched{col 30}{res}         119,563
{txt}{col 9}from master{col 30}{res}         119,563{txt}  (_merge==1)
{col 9}from using{col 30}{res}               0{txt}  (_merge==2)

{col 5}Matched{col 30}{res}             143
{txt}{col 9}not updated{col 30}{res}               0{txt}  (_merge==3)
{col 9}missing updated{col 30}{res}             143{txt}  (_merge==4)
{col 9}nonmissing conflict{col 30}{res}               0{txt}  (_merge==5)
{col 5}{hline 41}
(143 real changes made)
(143 real changes made)
{res}
{txt}{col 5}Result{col 33}Number of obs
{col 5}{hline 41}
{col 5}Not matched{col 30}{res}         119,691
{txt}{col 9}from master{col 30}{res}         119,691{txt}  (_merge==1)
{col 9}from using{col 30}{res}               0{txt}  (_merge==2)

{col 5}Matched{col 30}{res}              15
{txt}{col 9}not updated{col 30}{res}               0{txt}  (_merge==3)
{col 9}missing updated{col 30}{res}              15{txt}  (_merge==4)
{col 9}nonmissing conflict{col 30}{res}               0{txt}  (_merge==5)
{col 5}{hline 41}
(15 real changes made)
(15 real changes made)
{res}
{txt}{col 5}Result{col 33}Number of obs
{col 5}{hline 41}
{col 5}Not matched{col 30}{res}         119,589
{txt}{col 9}from master{col 30}{res}         119,589{txt}  (_merge==1)
{col 9}from using{col 30}{res}               0{txt}  (_merge==2)

{col 5}Matched{col 30}{res}             117
{txt}{col 9}not updated{col 30}{res}               0{txt}  (_merge==3)
{col 9}missing updated{col 30}{res}             117{txt}  (_merge==4)
{col 9}nonmissing conflict{col 30}{res}               0{txt}  (_merge==5)
{col 5}{hline 41}
(117 real changes made)
(117 real changes made)
{res}
{txt}{col 5}Result{col 33}Number of obs
{col 5}{hline 41}
{col 5}Not matched{col 30}{res}         119,620
{txt}{col 9}from master{col 30}{res}         119,619{txt}  (_merge==1)
{col 9}from using{col 30}{res}               1{txt}  (_merge==2)

{col 5}Matched{col 30}{res}              87
{txt}{col 9}not updated{col 30}{res}               0{txt}  (_merge==3)
{col 9}missing updated{col 30}{res}              87{txt}  (_merge==4)
{col 9}nonmissing conflict{col 30}{res}               0{txt}  (_merge==5)
{col 5}{hline 41}
(88 real changes made)
(88 real changes made)
{res}
{txt}{col 5}Result{col 33}Number of obs
{col 5}{hline 41}
{col 5}Not matched{col 30}{res}         119,670
{txt}{col 9}from master{col 30}{res}         119,669{txt}  (_merge==1)
{col 9}from using{col 30}{res}               1{txt}  (_merge==2)

{col 5}Matched{col 30}{res}              38
{txt}{col 9}not updated{col 30}{res}               0{txt}  (_merge==3)
{col 9}missing updated{col 30}{res}              38{txt}  (_merge==4)
{col 9}nonmissing conflict{col 30}{res}               0{txt}  (_merge==5)
{col 5}{hline 41}
(39 real changes made)
(39 real changes made)
{res}
{txt}{col 5}Result{col 33}Number of obs
{col 5}{hline 41}
{col 5}Not matched{col 30}{res}         119,544
{txt}{col 9}from master{col 30}{res}         119,544{txt}  (_merge==1)
{col 9}from using{col 30}{res}               0{txt}  (_merge==2)

{col 5}Matched{col 30}{res}             164
{txt}{col 9}not updated{col 30}{res}               0{txt}  (_merge==3)
{col 9}missing updated{col 30}{res}             164{txt}  (_merge==4)
{col 9}nonmissing conflict{col 30}{res}               0{txt}  (_merge==5)
{col 5}{hline 41}
(164 real changes made)
(164 real changes made)
{res}
{txt}{col 5}Result{col 33}Number of obs
{col 5}{hline 41}
{col 5}Not matched{col 30}{res}         119,650
{txt}{col 9}from master{col 30}{res}         119,650{txt}  (_merge==1)
{col 9}from using{col 30}{res}               0{txt}  (_merge==2)

{col 5}Matched{col 30}{res}              58
{txt}{col 9}not updated{col 30}{res}               0{txt}  (_merge==3)
{col 9}missing updated{col 30}{res}              58{txt}  (_merge==4)
{col 9}nonmissing conflict{col 30}{res}               0{txt}  (_merge==5)
{col 5}{hline 41}
(58 real changes made)
(58 real changes made)
{res}
{txt}{col 5}Result{col 33}Number of obs
{col 5}{hline 41}
{col 5}Not matched{col 30}{res}         119,646
{txt}{col 9}from master{col 30}{res}         119,646{txt}  (_merge==1)
{col 9}from using{col 30}{res}               0{txt}  (_merge==2)

{col 5}Matched{col 30}{res}              62
{txt}{col 9}not updated{col 30}{res}               0{txt}  (_merge==3)
{col 9}missing updated{col 30}{res}              62{txt}  (_merge==4)
{col 9}nonmissing conflict{col 30}{res}               0{txt}  (_merge==5)
{col 5}{hline 41}
(62 real changes made)
(62 real changes made)
{res}
{txt}{col 5}Result{col 33}Number of obs
{col 5}{hline 41}
{col 5}Not matched{col 30}{res}         119,659
{txt}{col 9}from master{col 30}{res}         119,659{txt}  (_merge==1)
{col 9}from using{col 30}{res}               0{txt}  (_merge==2)

{col 5}Matched{col 30}{res}              49
{txt}{col 9}not updated{col 30}{res}               0{txt}  (_merge==3)
{col 9}missing updated{col 30}{res}              49{txt}  (_merge==4)
{col 9}nonmissing conflict{col 30}{res}               0{txt}  (_merge==5)
{col 5}{hline 41}
(49 real changes made)
(49 real changes made)
{res}
{txt}{col 5}Result{col 33}Number of obs
{col 5}{hline 41}
{col 5}Not matched{col 30}{res}         119,550
{txt}{col 9}from master{col 30}{res}         119,549{txt}  (_merge==1)
{col 9}from using{col 30}{res}               1{txt}  (_merge==2)

{col 5}Matched{col 30}{res}             159
{txt}{col 9}not updated{col 30}{res}               0{txt}  (_merge==3)
{col 9}missing updated{col 30}{res}             159{txt}  (_merge==4)
{col 9}nonmissing conflict{col 30}{res}               0{txt}  (_merge==5)
{col 5}{hline 41}
(160 real changes made)
(160 real changes made)
{res}
{txt}{col 5}Result{col 33}Number of obs
{col 5}{hline 41}
{col 5}Not matched{col 30}{res}         119,570
{txt}{col 9}from master{col 30}{res}         119,569{txt}  (_merge==1)
{col 9}from using{col 30}{res}               1{txt}  (_merge==2)

{col 5}Matched{col 30}{res}             140
{txt}{col 9}not updated{col 30}{res}               0{txt}  (_merge==3)
{col 9}missing updated{col 30}{res}             140{txt}  (_merge==4)
{col 9}nonmissing conflict{col 30}{res}               0{txt}  (_merge==5)
{col 5}{hline 41}
(141 real changes made)
(141 real changes made)
{res}{txt}{p 0 7 2}
(variable
{bf:panchayat} was {bf:str22}, now {bf:str24} to accommodate using data's values)
{p_end}

{col 5}Result{col 33}Number of obs
{col 5}{hline 41}
{col 5}Not matched{col 30}{res}         119,641
{txt}{col 9}from master{col 30}{res}         119,641{txt}  (_merge==1)
{col 9}from using{col 30}{res}               0{txt}  (_merge==2)

{col 5}Matched{col 30}{res}              69
{txt}{col 9}not updated{col 30}{res}               0{txt}  (_merge==3)
{col 9}missing updated{col 30}{res}              69{txt}  (_merge==4)
{col 9}nonmissing conflict{col 30}{res}               0{txt}  (_merge==5)
{col 5}{hline 41}
(69 real changes made)
(69 real changes made)
{res}
{txt}{col 5}Result{col 33}Number of obs
{col 5}{hline 41}
{col 5}Not matched{col 30}{res}         119,620
{txt}{col 9}from master{col 30}{res}         119,620{txt}  (_merge==1)
{col 9}from using{col 30}{res}               0{txt}  (_merge==2)

{col 5}Matched{col 30}{res}              90
{txt}{col 9}not updated{col 30}{res}               0{txt}  (_merge==3)
{col 9}missing updated{col 30}{res}              90{txt}  (_merge==4)
{col 9}nonmissing conflict{col 30}{res}               0{txt}  (_merge==5)
{col 5}{hline 41}
(90 real changes made)
(90 real changes made)
{res}
{txt}{col 5}Result{col 33}Number of obs
{col 5}{hline 41}
{col 5}Not matched{col 30}{res}         119,607
{txt}{col 9}from master{col 30}{res}         119,607{txt}  (_merge==1)
{col 9}from using{col 30}{res}               0{txt}  (_merge==2)

{col 5}Matched{col 30}{res}             103
{txt}{col 9}not updated{col 30}{res}               0{txt}  (_merge==3)
{col 9}missing updated{col 30}{res}             103{txt}  (_merge==4)
{col 9}nonmissing conflict{col 30}{res}               0{txt}  (_merge==5)
{col 5}{hline 41}
(103 real changes made)
(103 real changes made)
{res}{txt}{p 0 7 2}
(variable
{bf:district} was {bf:str10}, now {bf:str14} to accommodate using data's values)
{p_end}
{p 0 7 2}
(variable
{bf:block} was {bf:str13}, now {bf:str14} to accommodate using data's values)
{p_end}

{col 5}Result{col 33}Number of obs
{col 5}{hline 41}
{col 5}Not matched{col 30}{res}         119,634
{txt}{col 9}from master{col 30}{res}         119,633{txt}  (_merge==1)
{col 9}from using{col 30}{res}               1{txt}  (_merge==2)

{col 5}Matched{col 30}{res}              77
{txt}{col 9}not updated{col 30}{res}               0{txt}  (_merge==3)
{col 9}missing updated{col 30}{res}              77{txt}  (_merge==4)
{col 9}nonmissing conflict{col 30}{res}               0{txt}  (_merge==5)
{col 5}{hline 41}
(78 real changes made)
(78 real changes made)

{com}.         
.         rename (district block panchayat revenuevillage) =_field // reminder that these variables came from field operators and not census village directory
{res}{txt}
{com}.         
.         * drop villages that will not merge with census data, to exclude them from the sampling frame
.         drop if village_code < 10000 // these villages actually have no census codes; the codes are created by us
{txt}(9 observations deleted)

{com}.         drop if village_code == 92991 // this is village Banasthali from the location Newai; the code was found in the LG directory but is not found in the census data
{txt}(1 observation deleted)

{com}. 
.         * mark blocks and districts in which SRIJAN has operated
.         
.         local blocks_anuppur    `" "pushparajgarh" "'
{txt}
{com}.         local blocks_baran              `" "antah" "'
{txt}
{com}.         local blocks_chhindwara `" "bichhua","chaurai","chhindwara","pandhurna","sausar" "'
{txt}
{com}.         local blocks_duni               `" "deoli","hindoli","todaraisingh","tonk" "'
{txt}
{com}.         local blocks_jaisinagar `" "begamganj","jaisinagar","sagar","silwani" "'
{txt}
{com}.         local blocks_jashpur    `" "bagicha" "'
{txt}
{com}.         local blocks_jatara     `" "jatara","palera" "'
{txt}
{com}.         local blocks_karauli    `" "sapotra" "'
{txt}
{com}.         local blocks_khatkar    `" "bundi","talera" "'
{txt}
{com}.         local blocks_koriya             `" "bharatpur(janakpur)","manendragarh","sonhat" "'
{txt}
{com}.         local blocks_kotma              `" "anuppur","burhar","jaithari","kotma" "'
{txt}
{com}.         local blocks_lakheri    `" "keshorai patan" "'
{txt}
{com}.         local blocks_mohkhed    `" "mohkhed" "'
{txt}
{com}.         local blocks_nainwa             `" "nainwa" "'
{txt}
{com}.         local blocks_newai              `" "niwai" "'
{txt}
{com}.         local blocks_pali               `" "bali","kotra" "'
{txt}
{com}.         local blocks_pratapgarh `" "arnod","peepalkhoont" "'
{txt}
{com}.         local blocks_shivpuri   `" "karera","khaniyadhana","pichhore" "'
{txt}
{com}.         local blocks_uniyara    `" "sawai madhopur","uniara" "'
{txt}
{com}.         
.         local districts_anuppur         `" "anuppur" "'
{txt}
{com}.         local districts_baran           `" "baran" "'
{txt}
{com}.         local districts_chhindwara      `" "chhindwara" "'
{txt}
{com}.         local districts_duni            `" "bundi","tonk" "'
{txt}
{com}.         local districts_jaisinagar      `" "raisen","sagar" "'
{txt}
{com}.         local districts_jashpur         `" "jashpur" "'
{txt}
{com}.         local districts_jatara          `" "tikamgarh" "'
{txt}
{com}.         local districts_karauli         `" "karauli" "'
{txt}
{com}.         local districts_khatkar         `" "bundi" "'
{txt}
{com}.         local districts_koriya          `" "koriya" "'
{txt}
{com}.         local districts_kotma           `" "anuppur","shahdol" "'
{txt}
{com}.         local districts_lakheri         `" "bundi" "'
{txt}
{com}.         local districts_mohkhed         `" "chhindwara" "'
{txt}
{com}.         local districts_nainwa          `" "bundi" "'
{txt}
{com}.         local districts_newai           `" "tonk" "'
{txt}
{com}.         local districts_pali            `" "pali","udaipur" "'
{txt}
{com}.         local districts_pratapgarh      `" "pratapgarh" "'
{txt}
{com}.         local districts_shivpuri        `" "shivpuri" "'
{txt}
{com}.         local districts_uniyara         `"  "sawai madhopur","tonk" "'
{txt}
{com}. 
.         gen byte is_srijan_block = 0
{txt}
{com}.         gen byte is_srijan_district = 0
{txt}
{com}.         gen locations_in_this_block = ""
{txt}(119,701 missing values generated)

{com}.         gen locations_in_this_dist = ""
{txt}(119,701 missing values generated)

{com}.         
.         foreach loc of local locations {c -(}
{txt}  2{com}.                         replace is_srijan_block = 1 if inlist(lower(block_name),`blocks_`loc'')
{txt}  3{com}.                         replace locations_in_this_block = locations_in_this_block + "`loc'; " if inlist(lower(block_name),`blocks_`loc'')
{txt}  4{com}.                         replace is_srijan_district = 1 if inlist(lower(district_name),`districts_`loc'')
{txt}  5{com}.                         replace locations_in_this_dist = locations_in_this_dist + "`loc'; " if inlist(lower(district_name),`districts_`loc'')
{txt}  6{com}.         {c )-}
{txt}(271 real changes made)
variable {bf}{res}locations_in_this_block{sf}{txt} was {bf}{res}str1{sf}{txt} now {bf}{res}str9{sf}
{txt}(271 real changes made)
(571 real changes made)
variable {bf}{res}locations_in_this_dist{sf}{txt} was {bf}{res}str1{sf}{txt} now {bf}{res}str9{sf}
{txt}(571 real changes made)
(771 real changes made)
variable {bf}{res}locations_in_this_block{sf}{txt} was {bf}{res}str9{sf}{txt} now {bf}{res}str12{sf}
{txt}(771 real changes made)
(1,965 real changes made)
variable {bf}{res}locations_in_this_dist{sf}{txt} was {bf}{res}str9{sf}{txt} now {bf}{res}str12{sf}
{txt}(1,965 real changes made)
(776 real changes made)
(776 real changes made)
(2,056 real changes made)
(2,056 real changes made)
(786 real changes made)
(786 real changes made)
(3,560 real changes made)
(3,560 real changes made)
(138 real changes made)
(138 real changes made)
(755 real changes made)
(755 real changes made)
(346 real changes made)
(346 real changes made)
(963 real changes made)
(963 real changes made)
(254 real changes made)
(254 real changes made)
(888 real changes made)
(888 real changes made)
(267 real changes made)
(267 real changes made)
(0 real changes made)
variable {bf}{res}locations_in_this_dist{sf}{txt} was {bf}{res}str12{sf}{txt} now {bf}{res}str15{sf}
{txt}(873 real changes made)
(419 real changes made)
(419 real changes made)
(636 real changes made)
(636 real changes made)
(493 real changes made)
(493 real changes made)
(844 real changes made)
variable {bf}{res}locations_in_this_dist{sf}{txt} was {bf}{res}str15{sf}{txt} now {bf}{res}str16{sf}
{txt}(1,415 real changes made)
(232 real changes made)
(232 real changes made)
(0 real changes made)
variable {bf}{res}locations_in_this_dist{sf}{txt} was {bf}{res}str16{sf}{txt} now {bf}{res}str24{sf}
{txt}(873 real changes made)
(183 real changes made)
(183 real changes made)
(0 real changes made)
(1,965 real changes made)
(190 real changes made)
(190 real changes made)
(0 real changes made)
variable {bf}{res}locations_in_this_dist{sf}{txt} was {bf}{res}str24{sf}{txt} now {bf}{res}str32{sf}
{txt}(873 real changes made)
(209 real changes made)
(209 real changes made)
(0 real changes made)
(1,183 real changes made)
(373 real changes made)
(373 real changes made)
(3,509 real changes made)
(3,509 real changes made)
(388 real changes made)
(388 real changes made)
(1,003 real changes made)
(1,003 real changes made)
(432 real changes made)
(432 real changes made)
(1,417 real changes made)
(1,417 real changes made)
(385 real changes made)
(385 real changes made)
(814 real changes made)
(1,997 real changes made)

{com}.         
.         foreach var of varlist locations_in_this_* {c -(}
{txt}  2{com}.                 replace `var' = substr(`var',1,length(`var')-2) if !missing(`var') // remove the "; " at the end
{txt}  3{com}.         {c )-}
{txt}(6,913 real changes made)
(18,981 real changes made)

{com}.                 
.         save "../03_processed/village_amenities_srijan", replace
{txt}{p 0 4 2}
file {bf}
../03_processed/village_amenities_srijan.dta{rm}
saved
{p_end}

{com}. 
. 
.         *********************************************************************************************************************
.         * 4. sampling at each location
.         *********************************************************************************************************************   
.         
.         clear
{txt}
{com}.         save "../03_processed/srijan_sample", replace emptyok
{txt}(dataset contains 0 observations)
{p 0 4 2}
file {bf}
../03_processed/srijan_sample.dta{rm}
saved
{p_end}

{com}.         
.         use "../03_processed/village_amenities_srijan", clear
{txt}
{com}. 
.         keep    state_name district_name subdistrict_name block_name panchayat_field village_name village_code ///
>                         srijan_location is_srijan_village is_srijan_block is_srijan_district ///
>                         locations_in_this_block locations_in_this_dist total_pop
{txt}
{com}.         
.         foreach loc of local locations {c -(}
{txt}  2{com}.                 preserve
{txt}  3{com}.                         keep if srijan_location == "`loc'"
{txt}  4{com}. 
.                         if "`sampling'" == "srs" {c -(}
{txt}  5{com}.                                 if `min_pop' !=0 {c -(}
{txt}  6{com}.                                         count if total_pop < `min_pop'
{txt}  7{com}.                                         if r(N) !=0 dis as err "Dropping `=r(N)' villages with population below `min_pop' in location `loc' from the sampling frame."
{txt}  8{com}.                                         drop if total_pop < `min_pop'
{txt}  9{com}.                                 {c )-}
{txt} 10{com}.                                 set seed 123
{txt} 11{com}.                                 gen random = runiform()
{txt} 12{com}.                                 sort random
{txt} 13{com}.                                 keep in 1/`num_villages'
{txt} 14{com}.                                 gen serial_no = _n
{txt} 15{com}.                         {c )-}
{txt} 16{com}.                         
.                         if "`sampling'" == "pps" {c -(}
{txt} 17{com}.                         * dis as err "Drawing PPS random sample for location: `loc'"
.                                 capture gsample `num_villages' [w=total_pop], wor
{txt} 18{com}.                                 if _rc !=0 {c -(}
{txt} 19{com}.                                                 dis as err "PPS random sampling for `loc' returns an error!!!"
{txt} 20{com}.                                                 restore
{txt} 21{com}.                                                 continue
{txt} 22{com}.                                 {c )-}
{txt} 23{com}.                         {c )-}
{txt} 24{com}.                         
.                         * noi tab total_pop
.                         append using "../03_processed/srijan_sample"
{txt} 25{com}.                         save "../03_processed/srijan_sample", replace
{txt} 26{com}.                 restore 
{txt} 27{com}.         {c )-}
{txt}(119,435 observations deleted)
  {res}4
{err}Dropping 4 villages with population below 1 in location anuppur from the sampling frame.
{txt}(4 observations deleted)
(247 observations deleted)
{p 0 4 2}
file {bf}
../03_processed/srijan_sample.dta{rm}
saved
{p_end}
(119,567 observations deleted)
  {res}0
{txt}(0 observations deleted)
(119 observations deleted)
{p 0 4 2}
file {bf}
../03_processed/srijan_sample.dta{rm}
saved
{p_end}
(119,604 observations deleted)
  {res}0
{txt}(0 observations deleted)
(82 observations deleted)
{p 0 4 2}
file {bf}
../03_processed/srijan_sample.dta{rm}
saved
{p_end}
(119,558 observations deleted)
  {res}0
{txt}(0 observations deleted)
(128 observations deleted)
{p 0 4 2}
file {bf}
../03_processed/srijan_sample.dta{rm}
saved
{p_end}
(119,686 observations deleted)
  {res}0
{txt}(0 observations deleted)
(0 observations deleted)
{p 0 4 2}
file {bf}
../03_processed/srijan_sample.dta{rm}
saved
{p_end}
(119,584 observations deleted)
  {res}0
{txt}(0 observations deleted)
(102 observations deleted)
{p 0 4 2}
file {bf}
../03_processed/srijan_sample.dta{rm}
saved
{p_end}
(119,614 observations deleted)
  {res}1
{err}Dropping 1 villages with population below 1 in location karauli from the sampling frame.
{txt}(1 observation deleted)
(71 observations deleted)
{p 0 4 2}
file {bf}
../03_processed/srijan_sample.dta{rm}
saved
{p_end}
(119,663 observations deleted)
  {res}0
{txt}(0 observations deleted)
(23 observations deleted)
{p 0 4 2}
file {bf}
../03_processed/srijan_sample.dta{rm}
saved
{p_end}
(119,537 observations deleted)
  {res}0
{txt}(0 observations deleted)
(149 observations deleted)
{p 0 4 2}
file {bf}
../03_processed/srijan_sample.dta{rm}
saved
{p_end}
(119,643 observations deleted)
  {res}0
{txt}(0 observations deleted)
(43 observations deleted)
{p 0 4 2}
file {bf}
../03_processed/srijan_sample.dta{rm}
saved
{p_end}
(119,639 observations deleted)
  {res}0
{txt}(0 observations deleted)
(47 observations deleted)
{p 0 4 2}
file {bf}
../03_processed/srijan_sample.dta{rm}
saved
{p_end}
(119,652 observations deleted)
  {res}0
{txt}(0 observations deleted)
(34 observations deleted)
{p 0 4 2}
file {bf}
../03_processed/srijan_sample.dta{rm}
saved
{p_end}
(119,542 observations deleted)
  {res}0
{txt}(0 observations deleted)
(144 observations deleted)
{p 0 4 2}
file {bf}
../03_processed/srijan_sample.dta{rm}
saved
{p_end}
(119,561 observations deleted)
  {res}1
{err}Dropping 1 villages with population below 1 in location newai from the sampling frame.
{txt}(1 observation deleted)
(124 observations deleted)
{p 0 4 2}
file {bf}
../03_processed/srijan_sample.dta{rm}
saved
{p_end}
(119,632 observations deleted)
  {res}0
{txt}(0 observations deleted)
(54 observations deleted)
{p 0 4 2}
file {bf}
../03_processed/srijan_sample.dta{rm}
saved
{p_end}
(119,611 observations deleted)
  {res}0
{txt}(0 observations deleted)
(75 observations deleted)
{p 0 4 2}
file {bf}
../03_processed/srijan_sample.dta{rm}
saved
{p_end}
(119,598 observations deleted)
  {res}0
{txt}(0 observations deleted)
(88 observations deleted)
{p 0 4 2}
file {bf}
../03_processed/srijan_sample.dta{rm}
saved
{p_end}
(119,624 observations deleted)
  {res}0
{txt}(0 observations deleted)
(62 observations deleted)
{p 0 4 2}
file {bf}
../03_processed/srijan_sample.dta{rm}
saved
{p_end}

{com}. 
.         * export a CSV file with the sample of SRIJAN villages
.         
.         use "../03_processed/srijan_sample", clear
{txt}
{com}.         
.         order srijan_location serial_no state_name district_name block_name panchayat_field village_code village_name total_pop
{txt}
{com}.         
.         rename panchayat_field panchayat_name
{res}{txt}
{com}.         
.         foreach var of varlist *_name {c -(}
{txt}  2{com}.                 replace `var' = proper(trim(itrim(`var')))
{txt}  3{com}.         {c )-}
{txt}(270 real changes made)
(0 real changes made)
(30 real changes made)
(11 real changes made)
(0 real changes made)
(0 real changes made)

{com}. 
.         sort state_name srijan_location serial_no
{txt}
{com}. 
.         save "../03_processed/srijan_sample", replace
{txt}{p 0 4 2}
file {bf}
../03_processed/srijan_sample.dta{rm}
saved
{p_end}

{com}. 
.         export delimited srijan_location serial_no state_name district_name block_name panchayat_name village_code village_name total_pop using ///
>                 "../03_processed/srijan_sample.csv", replace
{res}{txt}file {bf:../03_processed/srijan_sample.csv} saved

{com}.                 
.         
.         *********************************************************************************************************************
.         * 5. generate some characteristics of each village
.         *********************************************************************************************************************   
. 
.         use "../03_processed/village_amenities_srijan", clear
{txt}
{com}.         
.         merge 1:1 village_code using "../03_processed/srijan_sample", keepusing(village_code) assert(1 3)
{res}
{txt}{col 5}Result{col 33}Number of obs
{col 5}{hline 41}
{col 5}Not matched{col 30}{res}         119,431
{txt}{col 9}from master{col 30}{res}         119,431{txt}  (_merge==1)
{col 9}from using{col 30}{res}               0{txt}  (_merge==2)

{col 5}Matched{col 30}{res}             270{txt}  (_merge==3)
{col 5}{hline 41}

{com}.         gen sample = (_merge == 3)
{txt}
{com}.         drop _merge
{txt}
{com}.         
.         gen sc_frac = (sc_pop/total_pop)
{txt}(4,941 missing values generated)

{com}.         gen st_frac = (st_pop/total_pop)
{txt}(4,941 missing values generated)

{com}.         gen sown_area_frac = (netsown_area/total_area)
{txt}(744 missing values generated)

{com}.         gen forest_area_frac = (forest_area/total_area)
{txt}(744 missing values generated)

{com}.         gen irrigated_frac = (irrigated_area/netsown_area)
{txt}(2,813 missing values generated)

{com}.         
.         format *_frac %3.2f
{txt}
{com}. 
.         *********************************************************************************************************************
.         * 6. some comparisons between the districts, the blocks, the SRIJAN villages in them, and the sampled SRIJAN villages
.         *********************************************************************************************************************   
. 
.         dis as error _n "Some statistics:"
{res}
{err}Some statistics:
{txt}
{com}. 
.         local stats mean sd min p5 p10 p25 p50 p75 p90 p95 max count
{txt}
{com}.         
.         estpost tabstat st_frac if sample, stat(`stats') by(srijan_location) columns(statistics) nototal

{txt}Summary statistics: mean sd min p5 p10 p25 p50 p75 p90 p95 max count
     for variables: st_frac
  by categories of: srijan_location

{space 0}{space 0}{ralign 12:srijan_locat}{space 1}{c |}{space 1}{ralign 9:e(mean)}{space 1}{space 1}{ralign 9:e(sd)}{space 1}{space 1}{ralign 9:e(min)}{space 1}{space 1}{ralign 9:e(p5)}{space 1}{space 1}{ralign 9:e(p10)}{space 1}{space 1}{ralign 9:e(p25)}{space 1}{space 1}{ralign 9:e(p50)}{space 1}{space 1}{ralign 9:e(p75)}{space 1}{space 1}{ralign 9:e(p90)}{space 1}{space 1}{ralign 9:e(p95)}{space 1}{space 1}{ralign 9:e(max)}{space 1}{space 1}{ralign 9:e(count)}{space 1}
{space 0}{hline 13}{c   +}{hline 11}{hline 11}{hline 11}{hline 11}{hline 11}{hline 11}{hline 11}{hline 11}{hline 11}{hline 11}{hline 11}{hline 11}
{space 0}{space 0}{ralign 12:anuppur}{space 1}{c |}{space 1}{ralign 9:{res:{sf: .8866461}}}{space 1}{space 1}{ralign 9:{res:{sf: .0924864}}}{space 1}{space 1}{ralign 9:{res:{sf: .6130031}}}{space 1}{space 1}{ralign 9:{res:{sf: .6130031}}}{space 1}{space 1}{ralign 9:{res:{sf: .7997087}}}{space 1}{space 1}{ralign 9:{res:{sf: .8385965}}}{space 1}{space 1}{ralign 9:{res:{sf: .9130435}}}{space 1}{space 1}{ralign 9:{res:{sf: .9409283}}}{space 1}{space 1}{ralign 9:{res:{sf: .9683258}}}{space 1}{space 1}{ralign 9:{res:{sf: .9895592}}}{space 1}{space 1}{ralign 9:{res:{sf: .9895592}}}{space 1}{space 1}{ralign 9:{res:{sf:       15}}}{space 1}
{space 0}{space 0}{ralign 12:chhindwara}{space 1}{c |}{space 1}{ralign 9:{res:{sf: .5604164}}}{space 1}{space 1}{ralign 9:{res:{sf: .3326101}}}{space 1}{space 1}{ralign 9:{res:{sf: .0730838}}}{space 1}{space 1}{ralign 9:{res:{sf: .0730838}}}{space 1}{space 1}{ralign 9:{res:{sf: .1354983}}}{space 1}{space 1}{ralign 9:{res:{sf: .1880081}}}{space 1}{space 1}{ralign 9:{res:{sf: .6371986}}}{space 1}{space 1}{ralign 9:{res:{sf: .8405797}}}{space 1}{space 1}{ralign 9:{res:{sf: .9709619}}}{space 1}{space 1}{ralign 9:{res:{sf: .9750779}}}{space 1}{space 1}{ralign 9:{res:{sf: .9750779}}}{space 1}{space 1}{ralign 9:{res:{sf:       15}}}{space 1}
{space 0}{space 0}{ralign 12:duni}{space 1}{c |}{space 1}{ralign 9:{res:{sf: .3323476}}}{space 1}{space 1}{ralign 9:{res:{sf: .3351242}}}{space 1}{space 1}{ralign 9:{res:{sf:        0}}}{space 1}{space 1}{ralign 9:{res:{sf:        0}}}{space 1}{space 1}{ralign 9:{res:{sf: .0014286}}}{space 1}{space 1}{ralign 9:{res:{sf: .0322821}}}{space 1}{space 1}{ralign 9:{res:{sf: .2819203}}}{space 1}{space 1}{ralign 9:{res:{sf: .5147392}}}{space 1}{space 1}{ralign 9:{res:{sf: .8581408}}}{space 1}{space 1}{ralign 9:{res:{sf:        1}}}{space 1}{space 1}{ralign 9:{res:{sf:        1}}}{space 1}{space 1}{ralign 9:{res:{sf:       15}}}{space 1}
{space 0}{space 0}{ralign 12:jaisinagar}{space 1}{c |}{space 1}{ralign 9:{res:{sf: .0793367}}}{space 1}{space 1}{ralign 9:{res:{sf: .1028006}}}{space 1}{space 1}{ralign 9:{res:{sf:        0}}}{space 1}{space 1}{ralign 9:{res:{sf:        0}}}{space 1}{space 1}{ralign 9:{res:{sf:        0}}}{space 1}{space 1}{ralign 9:{res:{sf:        0}}}{space 1}{space 1}{ralign 9:{res:{sf: .0329374}}}{space 1}{space 1}{ralign 9:{res:{sf:    .1288}}}{space 1}{space 1}{ralign 9:{res:{sf: .2402827}}}{space 1}{space 1}{ralign 9:{res:{sf: .3496377}}}{space 1}{space 1}{ralign 9:{res:{sf: .3496377}}}{space 1}{space 1}{ralign 9:{res:{sf:       15}}}{space 1}
{space 0}{space 0}{ralign 12:jashpur}{space 1}{c |}{space 1}{ralign 9:{res:{sf: .7585201}}}{space 1}{space 1}{ralign 9:{res:{sf: .0876632}}}{space 1}{space 1}{ralign 9:{res:{sf: .6361257}}}{space 1}{space 1}{ralign 9:{res:{sf: .6361257}}}{space 1}{space 1}{ralign 9:{res:{sf: .6415868}}}{space 1}{space 1}{ralign 9:{res:{sf: .6725352}}}{space 1}{space 1}{ralign 9:{res:{sf: .7584973}}}{space 1}{space 1}{ralign 9:{res:{sf: .8336325}}}{space 1}{space 1}{ralign 9:{res:{sf: .8976834}}}{space 1}{space 1}{ralign 9:{res:{sf: .9009585}}}{space 1}{space 1}{ralign 9:{res:{sf: .9009585}}}{space 1}{space 1}{ralign 9:{res:{sf:       15}}}{space 1}
{space 0}{space 0}{ralign 12:jatara}{space 1}{c |}{space 1}{ralign 9:{res:{sf: .0658702}}}{space 1}{space 1}{ralign 9:{res:{sf:  .072138}}}{space 1}{space 1}{ralign 9:{res:{sf:        0}}}{space 1}{space 1}{ralign 9:{res:{sf:        0}}}{space 1}{space 1}{ralign 9:{res:{sf:        0}}}{space 1}{space 1}{ralign 9:{res:{sf: .0036784}}}{space 1}{space 1}{ralign 9:{res:{sf: .0509298}}}{space 1}{space 1}{ralign 9:{res:{sf: .1131167}}}{space 1}{space 1}{ralign 9:{res:{sf: .1496746}}}{space 1}{space 1}{ralign 9:{res:{sf: .2644179}}}{space 1}{space 1}{ralign 9:{res:{sf: .2644179}}}{space 1}{space 1}{ralign 9:{res:{sf:       15}}}{space 1}
{space 0}{space 0}{ralign 12:karauli}{space 1}{c |}{space 1}{ralign 9:{res:{sf: .2862506}}}{space 1}{space 1}{ralign 9:{res:{sf: .3271483}}}{space 1}{space 1}{ralign 9:{res:{sf:        0}}}{space 1}{space 1}{ralign 9:{res:{sf:        0}}}{space 1}{space 1}{ralign 9:{res:{sf:        0}}}{space 1}{space 1}{ralign 9:{res:{sf:        0}}}{space 1}{space 1}{ralign 9:{res:{sf: .1201201}}}{space 1}{space 1}{ralign 9:{res:{sf: .6211997}}}{space 1}{space 1}{ralign 9:{res:{sf:   .72293}}}{space 1}{space 1}{ralign 9:{res:{sf: .8517647}}}{space 1}{space 1}{ralign 9:{res:{sf: .8517647}}}{space 1}{space 1}{ralign 9:{res:{sf:       15}}}{space 1}
{space 0}{space 0}{ralign 12:khatkar}{space 1}{c |}{space 1}{ralign 9:{res:{sf: .2782694}}}{space 1}{space 1}{ralign 9:{res:{sf: .2537134}}}{space 1}{space 1}{ralign 9:{res:{sf:        0}}}{space 1}{space 1}{ralign 9:{res:{sf:        0}}}{space 1}{space 1}{ralign 9:{res:{sf:  .024181}}}{space 1}{space 1}{ralign 9:{res:{sf: .0428044}}}{space 1}{space 1}{ralign 9:{res:{sf: .1773472}}}{space 1}{space 1}{ralign 9:{res:{sf: .5010395}}}{space 1}{space 1}{ralign 9:{res:{sf: .5668449}}}{space 1}{space 1}{ralign 9:{res:{sf: .8372093}}}{space 1}{space 1}{ralign 9:{res:{sf: .8372093}}}{space 1}{space 1}{ralign 9:{res:{sf:       15}}}{space 1}
{space 0}{space 0}{ralign 12:koriya}{space 1}{c |}{space 1}{ralign 9:{res:{sf:   .78819}}}{space 1}{space 1}{ralign 9:{res:{sf: .2284355}}}{space 1}{space 1}{ralign 9:{res:{sf: .3195164}}}{space 1}{space 1}{ralign 9:{res:{sf: .3195164}}}{space 1}{space 1}{ralign 9:{res:{sf: .4599807}}}{space 1}{space 1}{ralign 9:{res:{sf: .5250321}}}{space 1}{space 1}{ralign 9:{res:{sf: .8968059}}}{space 1}{space 1}{ralign 9:{res:{sf: .9493392}}}{space 1}{space 1}{ralign 9:{res:{sf:        1}}}{space 1}{space 1}{ralign 9:{res:{sf:        1}}}{space 1}{space 1}{ralign 9:{res:{sf:        1}}}{space 1}{space 1}{ralign 9:{res:{sf:       15}}}{space 1}
{space 0}{space 0}{ralign 12:kotma}{space 1}{c |}{space 1}{ralign 9:{res:{sf: .5960783}}}{space 1}{space 1}{ralign 9:{res:{sf: .2892046}}}{space 1}{space 1}{ralign 9:{res:{sf: .0548723}}}{space 1}{space 1}{ralign 9:{res:{sf: .0548723}}}{space 1}{space 1}{ralign 9:{res:{sf: .1715138}}}{space 1}{space 1}{ralign 9:{res:{sf: .3202899}}}{space 1}{space 1}{ralign 9:{res:{sf: .6223776}}}{space 1}{space 1}{ralign 9:{res:{sf:  .863764}}}{space 1}{space 1}{ralign 9:{res:{sf:  .962406}}}{space 1}{space 1}{ralign 9:{res:{sf:        1}}}{space 1}{space 1}{ralign 9:{res:{sf:        1}}}{space 1}{space 1}{ralign 9:{res:{sf:       15}}}{space 1}
{space 0}{space 0}{ralign 12:lakheri}{space 1}{c |}{space 1}{ralign 9:{res:{sf: .4454386}}}{space 1}{space 1}{ralign 9:{res:{sf: .3114802}}}{space 1}{space 1}{ralign 9:{res:{sf:        0}}}{space 1}{space 1}{ralign 9:{res:{sf:        0}}}{space 1}{space 1}{ralign 9:{res:{sf: .0305677}}}{space 1}{space 1}{ralign 9:{res:{sf: .1784703}}}{space 1}{space 1}{ralign 9:{res:{sf: .4526449}}}{space 1}{space 1}{ralign 9:{res:{sf: .7814208}}}{space 1}{space 1}{ralign 9:{res:{sf: .8061717}}}{space 1}{space 1}{ralign 9:{res:{sf: .9864865}}}{space 1}{space 1}{ralign 9:{res:{sf: .9864865}}}{space 1}{space 1}{ralign 9:{res:{sf:       15}}}{space 1}
{space 0}{space 0}{ralign 12:mohkhed}{space 1}{c |}{space 1}{ralign 9:{res:{sf: .6914094}}}{space 1}{space 1}{ralign 9:{res:{sf: .3201296}}}{space 1}{space 1}{ralign 9:{res:{sf: .0036298}}}{space 1}{space 1}{ralign 9:{res:{sf: .0036298}}}{space 1}{space 1}{ralign 9:{res:{sf: .1534591}}}{space 1}{space 1}{ralign 9:{res:{sf: .4063604}}}{space 1}{space 1}{ralign 9:{res:{sf: .7209848}}}{space 1}{space 1}{ralign 9:{res:{sf: .9765193}}}{space 1}{space 1}{ralign 9:{res:{sf: .9808154}}}{space 1}{space 1}{ralign 9:{res:{sf: .9819277}}}{space 1}{space 1}{ralign 9:{res:{sf: .9819277}}}{space 1}{space 1}{ralign 9:{res:{sf:       15}}}{space 1}
{space 0}{space 0}{ralign 12:nainwa}{space 1}{c |}{space 1}{ralign 9:{res:{sf: .1588214}}}{space 1}{space 1}{ralign 9:{res:{sf:  .266616}}}{space 1}{space 1}{ralign 9:{res:{sf:        0}}}{space 1}{space 1}{ralign 9:{res:{sf:        0}}}{space 1}{space 1}{ralign 9:{res:{sf:        0}}}{space 1}{space 1}{ralign 9:{res:{sf: .0035942}}}{space 1}{space 1}{ralign 9:{res:{sf: .0401119}}}{space 1}{space 1}{ralign 9:{res:{sf:  .167037}}}{space 1}{space 1}{ralign 9:{res:{sf: .7228261}}}{space 1}{space 1}{ralign 9:{res:{sf: .7866492}}}{space 1}{space 1}{ralign 9:{res:{sf: .7866492}}}{space 1}{space 1}{ralign 9:{res:{sf:       15}}}{space 1}
{space 0}{space 0}{ralign 12:newai}{space 1}{c |}{space 1}{ralign 9:{res:{sf: .2280134}}}{space 1}{space 1}{ralign 9:{res:{sf:  .328196}}}{space 1}{space 1}{ralign 9:{res:{sf:        0}}}{space 1}{space 1}{ralign 9:{res:{sf:        0}}}{space 1}{space 1}{ralign 9:{res:{sf:        0}}}{space 1}{space 1}{ralign 9:{res:{sf:        0}}}{space 1}{space 1}{ralign 9:{res:{sf:   .04083}}}{space 1}{space 1}{ralign 9:{res:{sf: .4701727}}}{space 1}{space 1}{ralign 9:{res:{sf: .7328809}}}{space 1}{space 1}{ralign 9:{res:{sf: .9832935}}}{space 1}{space 1}{ralign 9:{res:{sf: .9832935}}}{space 1}{space 1}{ralign 9:{res:{sf:       15}}}{space 1}
{space 0}{space 0}{ralign 12:pali}{space 1}{c |}{space 1}{ralign 9:{res:{sf: .7860484}}}{space 1}{space 1}{ralign 9:{res:{sf: .3452633}}}{space 1}{space 1}{ralign 9:{res:{sf: .0312213}}}{space 1}{space 1}{ralign 9:{res:{sf: .0312213}}}{space 1}{space 1}{ralign 9:{res:{sf: .1852198}}}{space 1}{space 1}{ralign 9:{res:{sf: .6469833}}}{space 1}{space 1}{ralign 9:{res:{sf: .9820359}}}{space 1}{space 1}{ralign 9:{res:{sf:  .997564}}}{space 1}{space 1}{ralign 9:{res:{sf:        1}}}{space 1}{space 1}{ralign 9:{res:{sf:        1}}}{space 1}{space 1}{ralign 9:{res:{sf:        1}}}{space 1}{space 1}{ralign 9:{res:{sf:       15}}}{space 1}
{space 0}{space 0}{ralign 12:pratapgarh}{space 1}{c |}{space 1}{ralign 9:{res:{sf: .9815846}}}{space 1}{space 1}{ralign 9:{res:{sf: .0274529}}}{space 1}{space 1}{ralign 9:{res:{sf:  .911414}}}{space 1}{space 1}{ralign 9:{res:{sf:  .911414}}}{space 1}{space 1}{ralign 9:{res:{sf: .9449902}}}{space 1}{space 1}{ralign 9:{res:{sf: .9535784}}}{space 1}{space 1}{ralign 9:{res:{sf: .9966443}}}{space 1}{space 1}{ralign 9:{res:{sf:        1}}}{space 1}{space 1}{ralign 9:{res:{sf:        1}}}{space 1}{space 1}{ralign 9:{res:{sf:        1}}}{space 1}{space 1}{ralign 9:{res:{sf:        1}}}{space 1}{space 1}{ralign 9:{res:{sf:       15}}}{space 1}
{space 0}{space 0}{ralign 12:shivpuri}{space 1}{c |}{space 1}{ralign 9:{res:{sf: .1789274}}}{space 1}{space 1}{ralign 9:{res:{sf: .2475568}}}{space 1}{space 1}{ralign 9:{res:{sf:        0}}}{space 1}{space 1}{ralign 9:{res:{sf:        0}}}{space 1}{space 1}{ralign 9:{res:{sf:        0}}}{space 1}{space 1}{ralign 9:{res:{sf:        0}}}{space 1}{space 1}{ralign 9:{res:{sf: .1241447}}}{space 1}{space 1}{ralign 9:{res:{sf: .2561655}}}{space 1}{space 1}{ralign 9:{res:{sf: .2805707}}}{space 1}{space 1}{ralign 9:{res:{sf: .9961464}}}{space 1}{space 1}{ralign 9:{res:{sf: .9961464}}}{space 1}{space 1}{ralign 9:{res:{sf:       15}}}{space 1}
{space 0}{space 0}{ralign 12:uniyara}{space 1}{c |}{space 1}{ralign 9:{res:{sf: .2708086}}}{space 1}{space 1}{ralign 9:{res:{sf: .2917004}}}{space 1}{space 1}{ralign 9:{res:{sf:        0}}}{space 1}{space 1}{ralign 9:{res:{sf:        0}}}{space 1}{space 1}{ralign 9:{res:{sf:        0}}}{space 1}{space 1}{ralign 9:{res:{sf: .0035119}}}{space 1}{space 1}{ralign 9:{res:{sf: .1241084}}}{space 1}{space 1}{ralign 9:{res:{sf: .4487578}}}{space 1}{space 1}{ralign 9:{res:{sf:  .748503}}}{space 1}{space 1}{ralign 9:{res:{sf: .8536083}}}{space 1}{space 1}{ralign 9:{res:{sf: .8536083}}}{space 1}{space 1}{ralign 9:{res:{sf:       15}}}{space 1}

{com}.         matrix A = e(mean)\e(sd)\e(min)\e(p5)\e(p10)\e(p25)\e(p50)\e(p75)\e(p90)\e(p95)\e(max)\e(count)
{txt}
{com}.         noi esttab matrix(A, fmt(a2 a2 a2 a2 a2 a2 a2 a2 a2 a2 a2 %5.0fc) transpose), ///
>                 title("Village-level distribution of ST fraction across SRIJAN locations") nomtitles 
{res}
{txt}Village-level distribution of ST fraction across SRIJAN locations
{txt}{hline 168}
{txt}                     mean           sd          min           p5          p10          p25          p50          p75          p90          p95          max        count
{txt}{hline 168}
{txt}anuppur     {res}         0.89        0.092         0.61         0.61         0.80         0.84         0.91         0.94         0.97         0.99         0.99           15{txt}
{txt}chhindwara  {res}         0.56         0.33        0.073        0.073         0.14         0.19         0.64         0.84         0.97         0.98         0.98           15{txt}
{txt}duni        {res}         0.33         0.34            0            0       0.0014        0.032         0.28         0.51         0.86            1            1           15{txt}
{txt}jaisinagar  {res}        0.079         0.10            0            0            0            0        0.033         0.13         0.24         0.35         0.35           15{txt}
{txt}jashpur     {res}         0.76        0.088         0.64         0.64         0.64         0.67         0.76         0.83         0.90         0.90         0.90           15{txt}
{txt}jatara      {res}        0.066        0.072            0            0            0       0.0037        0.051         0.11         0.15         0.26         0.26           15{txt}
{txt}karauli     {res}         0.29         0.33            0            0            0            0         0.12         0.62         0.72         0.85         0.85           15{txt}
{txt}khatkar     {res}         0.28         0.25            0            0        0.024        0.043         0.18         0.50         0.57         0.84         0.84           15{txt}
{txt}koriya      {res}         0.79         0.23         0.32         0.32         0.46         0.53         0.90         0.95            1            1            1           15{txt}
{txt}kotma       {res}         0.60         0.29        0.055        0.055         0.17         0.32         0.62         0.86         0.96            1            1           15{txt}
{txt}lakheri     {res}         0.45         0.31            0            0        0.031         0.18         0.45         0.78         0.81         0.99         0.99           15{txt}
{txt}mohkhed     {res}         0.69         0.32       0.0036       0.0036         0.15         0.41         0.72         0.98         0.98         0.98         0.98           15{txt}
{txt}nainwa      {res}         0.16         0.27            0            0            0       0.0036        0.040         0.17         0.72         0.79         0.79           15{txt}
{txt}newai       {res}         0.23         0.33            0            0            0            0        0.041         0.47         0.73         0.98         0.98           15{txt}
{txt}pali        {res}         0.79         0.35        0.031        0.031         0.19         0.65         0.98         1.00            1            1            1           15{txt}
{txt}pratapgarh  {res}         0.98        0.027         0.91         0.91         0.94         0.95         1.00            1            1            1            1           15{txt}
{txt}shivpuri    {res}         0.18         0.25            0            0            0            0         0.12         0.26         0.28         1.00         1.00           15{txt}
{txt}uniyara     {res}         0.27         0.29            0            0            0       0.0035         0.12         0.45         0.75         0.85         0.85           15{txt}
{txt}{hline 168}

{com}.         
.         qui tabstat st_frac [aweight=total_pop] if is_srijan_district, stat(`stats') format(%9.2gc) columns(var) save
{txt}
{com}.         matrix A = r(StatTotal)
{txt}
{com}.         qui tabstat st_frac [aweight=total_pop] if is_srijan_block, stat(`stats') format(%9.2gc) columns(var) save      
{txt}
{com}.         matrix B = r(StatTotal)
{txt}
{com}.         qui tabstat st_frac [aweight=total_pop] if is_srijan_village, stat(`stats') format(%9.2gc) columns(var) save
{txt}
{com}.         matrix C = r(StatTotal)
{txt}
{com}.         qui tabstat st_frac [aweight=total_pop] if sample, stat(`stats') format(%9.2gc) columns(var) save       
{txt}
{com}.         matrix D = r(StatTotal)
{txt}
{com}.         
.         matrix S = A,B,C,D
{txt}
{com}.         matrix colnames S = districts blocks villages sample
{txt}
{com}.         matrix S = S'
{txt}
{com}.         
.         noi esttab matrix(S, fmt(a2 a2 a2 a2 a2 a2 a2 a2 a2 a2 a2 %5.0fc) transpose), title("Village-level distribution of ST fraction") nomtitles
{res}
{txt}Village-level distribution of ST fraction
{txt}{hline 64}
{txt}                districts       blocks     villages       sample
{txt}{hline 64}
{txt}mean        {res}         0.33         0.34         0.36         0.33{txt}
{txt}sd          {res}         0.35         0.35         0.36         0.35{txt}
{txt}min         {res}            0            0            0            0{txt}
{txt}p5          {res}            0            0            0            0{txt}
{txt}p10         {res}            0      0.00024            0       0.0036{txt}
{txt}p25         {res}        0.016        0.035        0.032        0.037{txt}
{txt}p50         {res}         0.17         0.20         0.20         0.16{txt}
{txt}p75         {res}         0.61         0.64         0.71         0.65{txt}
{txt}p90         {res}         0.93         0.93         0.94         0.93{txt}
{txt}p95         {res}         0.99         0.99         0.98         0.98{txt}
{txt}max         {res}            1            1            1            1{txt}
{txt}N           {res}        18217         6668         1862          270{txt}
{txt}{hline 64}

{com}.         
.         local stats mean sd min p5 p10 p25 p50 p75 p90 p95 max
{txt}
{com}.         local statvars total_hh total_pop *_frac
{txt}
{com}.         
.         dis as error _n "Overall comparisons:"
{res}
{err}Overall comparisons:
{txt}
{com}.         
.                 local ifblocks `" if is_srijan_block  "'
{txt}
{com}.                 local ifsrijan `" if is_srijan_village  "'
{txt}
{com}.                 local ifsample `" if sample == 1 "'
{txt}
{com}. 
.                 count `ifblocks'
  {res}6,913
{txt}
{com}.                 local numvills_blocks = r(N)
{txt}
{com}.                 count `ifsrijan'
  {res}1,868
{txt}
{com}.                 local numvills_srijan = r(N)
{txt}
{com}.                 count `ifsample'
  {res}270
{txt}
{com}.                 local numvills_sample = r(N)
{txt}
{com}. 
.                 dis as error "Location: `=proper("`loc'")' "
{res}{err}Location:  
{txt}
{com}.                 dis as error "Comparison of CD blocks [`numvills_blocks' villages] vs. all SRIJAN villages [`numvills_srijan' villages] vs. sampled SRIJAN villages [`numvills_sample' villages]:"
{res}{err}Comparison of CD blocks [6913 villages] vs. all SRIJAN villages [1868 villages] vs. sampled SRIJAN villages [270 villages]:
{txt}
{com}.                 
.                 
.                 noi tabstat `statvars' `ifblocks', stat(`stats') format(%9.2gc)

{txt}   Stats {...}
{c |}{...}
  total_hh  total_~p   sc_frac   st_frac  sown_a~c  forest~c  irriga~c
{hline 9}{c +}{hline 70}
{ralign 8:Mean} {...}
{c |}{...}
 {res}      208       959       .13       .42       .55       .14       .35
{txt}{ralign 8:SD} {...}
{c |}{...}
 {res}      213     1,040       .16       .38       .24       .22       .33
{txt}{ralign 8:Min} {...}
{c |}{...}
 {res}        1         0         0         0         0         0         0
{txt}{ralign 8:p5} {...}
{c |}{...}
 {res}       24        29         0         0       .11         0         0
{txt}{ralign 8:p10} {...}
{c |}{...}
 {res}       43       151         0         0        .2         0         0
{txt}{ralign 8:p25} {...}
{c |}{...}
 {res}       82       358     .0016      .037       .38         0      .047
{txt}{ralign 8:p50} {...}
{c |}{...}
 {res}      148       682      .071       .34       .59         0       .29
{txt}{ralign 8:p75} {...}
{c |}{...}
 {res}      260     1,214        .2       .81       .74       .22       .58
{txt}{ralign 8:p90} {...}
{c |}{...}
 {res}      422     1,967       .33       .98       .84       .47       .86
{txt}{ralign 8:p95} {...}
{c |}{...}
 {res}      578     2,756       .43         1       .89       .64       .95
{txt}{ralign 8:Max} {...}
{c |}{...}
 {res}    2,554    14,038         1         1         1         1       6.7
{txt}{hline 9}{c BT}{hline 70}

{com}.                 noi tabstat `statvars' `ifsrijan', stat(`stats') format(%9.2gc)

{txt}   Stats {...}
{c |}{...}
  total_hh  total_~p   sc_frac   st_frac  sown_a~c  forest~c  irriga~c
{hline 9}{c +}{hline 70}
{ralign 8:Mean} {...}
{c |}{...}
 {res}      216     1,024       .13       .47       .53       .15       .29
{txt}{ralign 8:SD} {...}
{c |}{...}
 {res}      216     1,059       .16       .38       .22       .21       .29
{txt}{ralign 8:Min} {...}
{c |}{...}
 {res}        1         0         0         0         0         0         0
{txt}{ralign 8:p5} {...}
{c |}{...}
 {res}       38       172         0         0       .13         0         0
{txt}{ralign 8:p10} {...}
{c |}{...}
 {res}       53       249         0         0        .2         0         0
{txt}{ralign 8:p25} {...}
{c |}{...}
 {res}       93       429     .0021      .051       .38         0     .0098
{txt}{ralign 8:p50} {...}
{c |}{...}
 {res}      160       733      .074       .46       .56      .035        .2
{txt}{ralign 8:p75} {...}
{c |}{...}
 {res}      262     1,255       .22       .87        .7       .24       .47
{txt}{ralign 8:p90} {...}
{c |}{...}
 {res}      416     1,973       .34       .98       .79       .46       .76
{txt}{ralign 8:p95} {...}
{c |}{...}
 {res}      589     2,891       .43         1       .84       .61        .9
{txt}{ralign 8:Max} {...}
{c |}{...}
 {res}    2,534    12,884         1         1         1       .99       1.2
{txt}{hline 9}{c BT}{hline 70}

{com}.                 noi tabstat `statvars' `ifsample', stat(`stats') format(%9.2gc)

{txt}   Stats {...}
{c |}{...}
  total_hh  total_~p   sc_frac   st_frac  sown_a~c  forest~c  irriga~c
{hline 9}{c +}{hline 70}
{ralign 8:Mean} {...}
{c |}{...}
 {res}      251     1,211       .11       .47       .52       .14       .32
{txt}{ralign 8:SD} {...}
{c |}{...}
 {res}      291     1,438       .13       .38       .22        .2       .32
{txt}{ralign 8:Min} {...}
{c |}{...}
 {res}        4        29         0         0     .0073         0         0
{txt}{ralign 8:p5} {...}
{c |}{...}
 {res}       39       189         0         0       .14         0         0
{txt}{ralign 8:p10} {...}
{c |}{...}
 {res}       51       260         0         0       .21         0         0
{txt}{ralign 8:p25} {...}
{c |}{...}
 {res}       92       425     .0011      .067       .36         0      .018
{txt}{ralign 8:p50} {...}
{c |}{...}
 {res}      176       809      .058       .45       .53      .029       .22
{txt}{ralign 8:p75} {...}
{c |}{...}
 {res}      292     1,344        .2       .85        .7       .24       .55
{txt}{ralign 8:p90} {...}
{c |}{...}
 {res}      543     2,602        .3       .98       .79       .42       .87
{txt}{ralign 8:p95} {...}
{c |}{...}
 {res}      789     4,112       .36         1       .84       .61       .97
{txt}{ralign 8:Max} {...}
{c |}{...}
 {res}    2,372    11,334       .74         1       .97       .94       1.2
{txt}{hline 9}{c BT}{hline 70}

{com}.         
.         set more on
{txt}
{com}.         
.         /*
>         dis as error _n "Location-wise comparisons:"
>         
>         
>         foreach loc of local locations {c -(}
> 
>                 local ifblocks `" if strpos(locations_in_this_block,"`loc'")"'
>                 local ifsrijan `" if is_srijan_village == 1 & srijan_location == "`loc'"  "'
>                 local ifsample `" if sample == 1 & srijan_location == "`loc'"  "'
> 
>                 count `ifblocks'
>                 local numvills_blocks = r(N)
>                 count `ifsrijan'
>                 local numvills_srijan = r(N)
>                 count `ifsample'
>                 local numvills_sample = r(N)
> 
>                 dis as error "Location: `=proper("`loc'")' "
>                 dis as error "Comparison of CD blocks [`numvills_blocks' villages] vs. all SRIJAN villages [`numvills_srijan' villages] vs. sampled SRIJAN villages [`numvills_sample' villages]:"
>                 
>                 
>                 noi tabstat `statvars' `ifblocks', stat(`stats') format(%9.2gc)
>                 noi tabstat `statvars' `ifsrijan', stat(`stats') format(%9.2gc)
>                 noi tabstat `statvars' `ifsample', stat(`stats') format(%9.2gc)
>         {c )-}
>         */
.         
.         *********************************************************************************************************************
.         * 7. investigating the errors in PPS sampling
.         *********************************************************************************************************************   
.         
.         if "`sampling'" == "pps" {c -(}
.                 keep if is_srijan_village
.                 
.                 egen location_pop = total(total_pop) , by(srijan_location)
.                 gen pop_weight = total_pop/location_pop
.                 gsort srijan_location -pop_weight
.                 format %9.0gc total_pop location_pop
.                 format %4.3f pop_weight
.                 noi li srijan_location village_name village_code total_pop location_pop pop_weight if pop_weight>0.1, sepby(srijan_location) noobs
.         {c )-}
{txt}
{com}.         
.         
. project , creates("../03_processed/village_amenities_srijan.dta")
{txt}project srijan > do-file creates: {res}"03_processed/village_amenities_srijan.dta" filesig(2904350955:40838982){txt}

{com}. project , creates("../03_processed/srijan_sample.dta")
{txt}project srijan > do-file creates: {res}"03_processed/srijan_sample.dta" filesig(2737542482:71545){txt}

{com}. project , creates("../03_processed/srijan_sample.csv")
{txt}project srijan > do-file creates: {res}"03_processed/srijan_sample.csv" filesig(40752029:18652){txt}

{com}. 
{txt}end of do-file
      name:  {res}plog_14
       {txt}log:  {res}/Users/sreyamajumder/Dropbox/sreya_majumder/srijan_sreya analysis/02_scripts/01b_sampling_srijan_villages.smcl
  {txt}log type:  {res}smcl
 {txt}closed on:  {res}15 Dec 2021, 13:20:38
{txt}{.-}
{smcl}
{txt}{sf}{ul off}